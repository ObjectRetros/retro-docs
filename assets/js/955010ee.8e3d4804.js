"use strict";(self.webpackChunkretro_docs=self.webpackChunkretro_docs||[]).push([[6474],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},c=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,h=c["".concat(s,".").concat(m)]||c[m]||d[m]||a;return n?o.createElement(h,i(i({ref:t},u),{},{components:n})):o.createElement(h,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<a;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}c.displayName="MDXCreateElement"},1975:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var o=n(7462),r=(n(7294),n(3905));const a={sidebar_position:2,title:"Setup"},i=void 0,l={unversionedId:"atom-cms/setup",id:"atom-cms/setup",title:"Setup",description:"\ud83c\udf7b Migrating from Another CMS",source:"@site/docs/atom-cms/setup.md",sourceDirName:"atom-cms",slug:"/atom-cms/setup",permalink:"/retro-docs/docs/atom-cms/setup",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Setup"},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/retro-docs/docs/atom-cms/introduction"},next:{title:"Languages",permalink:"/retro-docs/docs/atom-cms/language"}},s={},p=[{value:"\ud83c\udf7b Migrating from Another CMS",id:"-migrating-from-another-cms",level:3},{value:"\ud83d\udea7 Requirements",id:"-requirements",level:3},{value:"\ud83d\udcbb Windows Setup",id:"-windows-setup",level:3},{value:"Required permissions",id:"required-permissions",level:4},{value:"cURL error",id:"curl-error",level:4},{value:"Windows Tutorial",id:"windows-tutorial",level:4},{value:"\ud83e\uddd9\u200d\u2642\ufe0f Linux Setup",id:"\ufe0f-linux-setup",level:3},{value:"\ud83d\udd12\ufe0f Using HTTPS",id:"\ufe0f-using-https",level:3},{value:"\ud83d\udea8 Disable rocket loader",id:"-disable-rocket-loader",level:3}],u={toc:p};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"-migrating-from-another-cms"},"\ud83c\udf7b Migrating from Another CMS"),(0,r.kt)("p",null,"If you're migrating from another CMS like Cosmic CMS and is unsure what tables to remove or worry about colliding tables names, then fear no more!"),(0,r.kt)("p",null,"Even tho we ",(0,r.kt)("strong",{parentName:"p"},"highly recommend")," to do a proper cleanup yourself, Atom CMS has a built-in option to rename colliding table names and drop matching foreign keys."),(0,r.kt)("p",null,"All you have to do is to change ",(0,r.kt)("inlineCode",{parentName:"p"},"RENAME_COLLIDING_TABLES=false")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"RENAME_COLLIDING_TABLES=true")," within your ",(0,r.kt)("inlineCode",{parentName:"p"},".env"),"file (You'll get to the .env file in the next step). Once the feature is enabled, Atom CMS will ",(0,r.kt)("strong",{parentName:"p"},"attempt")," to solve any conflicts that might happen due to the use of another CMS."),(0,r.kt)("h3",{id:"-requirements"},"\ud83d\udea7 Requirements"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"PHP 8.1 or above ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/downloads.php"},"PHP Downloads")),(0,r.kt)("li",{parentName:"ul"},"MySQL >= 8.x or  MariaDB >= 10.x"),(0,r.kt)("li",{parentName:"ul"},"Composer v2 ",(0,r.kt)("a",{parentName:"li",href:"https://getcomposer.org/download/"},"Composer Download")),(0,r.kt)("li",{parentName:"ul"},"NPM (LTS) ",(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/en/download/"},"Node Download")),(0,r.kt)("li",{parentName:"ul"},"An Arcturus Morningstar database ",(0,r.kt)("a",{parentName:"li",href:"https://git.krews.org/morningstar/arcturus-morningstar-base-database"},"Database repository"))),(0,r.kt)("p",null,'Please verify the following extensions are enabled inside your php.ini file. If they have a ";" in front of them it means that they\'re commented out and not enabled. Simply remove the ";" to enable them.'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"extension=curl\nextension=fileinfo\nextension=gd\nextension=mbstring\nextension=openssl\nextension=pdo_mysql\nextension=sockets\n")),(0,r.kt)("h3",{id:"-windows-setup"},"\ud83d\udcbb Windows Setup"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/ObjectRetros/atomcms.git\ncd atomcms\ncopy .env.example .env (Do not forget to edit the database credentials inside the .env)\ncomposer install \nnpm install && npm run build:atom (For development run: npm run dev:[theme-name] - eg. npm run dev:atom)\nphp artisan key:generate\nphp artisan migrate --seed\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},'Don\'t forget to link your IIS site to the "public" folder inside for "atomcms"')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"If you are using Atom CMS in production, don't forget to change the following variables:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dotenv"},"APP_ENV=local to APP_ENV=production\nAPP_DEBUG=true to APP_DEBUG=false\n")),(0,r.kt)("h4",{id:"required-permissions"},"Required permissions"),(0,r.kt)("p",null,'Please make sure the "atomcms" folder is granted "Full control" for both the IUSR & the IIS_IUSRS.'),(0,r.kt)("p",null,"Here's a GIF of me doing it on a different folder: ",(0,r.kt)("a",{parentName:"p",href:"https://gyazo.com/7d5f38525a762c1b26bbd7552ca93478"},"https://gyazo.com/7d5f38525a762c1b26bbd7552ca93478"),' the principle is the same, you just do it on the "atomhk" folder.'),(0,r.kt)("h4",{id:"curl-error"},"cURL error"),(0,r.kt)("p",null,"If you're receiving a cURL 60 error due to eg. setting up findretros, then make sure you download the latest cacert.pem from ",(0,r.kt)("a",{parentName:"p",href:"https://curl.se/docs/caextract.html"},"https://curl.se/docs/caextract.html"),'. Once downloaded place it in eg. "C:/" folder and then open your php.ini file, search for ',(0,r.kt)("inlineCode",{parentName:"p"},"curl.cainfo"),' uncomment (Remove the ";" infront of the line) it and put the absolute path + file name to your certificate (Eg. "C:/cacert-2022-07-19.pem"). Save the file and your problem should now be solved.'),(0,r.kt)("h4",{id:"windows-tutorial"},"Windows Tutorial"),(0,r.kt)("p",null,"Have you always wanted to set up your own hotel from scratch, but are unsure how? Then  you can follow my ",(0,r.kt)("strong",{parentName:"p"},"three")," parts series on DevBest which will take you through any step necessary to get everything up and running."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Part 1: ",(0,r.kt)("a",{parentName:"li",href:"https://devbest.com/threads/how-to-set-up-a-retro-in-2022-iis-nitro-html5-part-1.92532/"},"https://devbest.com/threads/how-to-set-up-a-retro-in-2022-iis-nitro-html5-part-1.92532/")),(0,r.kt)("li",{parentName:"ul"},"Part 2: ",(0,r.kt)("a",{parentName:"li",href:"https://devbest.com/threads/how-to-set-up-a-retro-in-2022-iis-nitro-html5-part-2.92533/"},"https://devbest.com/threads/how-to-set-up-a-retro-in-2022-iis-nitro-html5-part-2.92533/")),(0,r.kt)("li",{parentName:"ul"},"Part 3: ",(0,r.kt)("a",{parentName:"li",href:"https://devbest.com/threads/how-to-set-up-a-retro-in-2022-iis-nitro-html5-part-3.92543/"},"https://devbest.com/threads/how-to-set-up-a-retro-in-2022-iis-nitro-html5-part-3.92543/"))),(0,r.kt)("h3",{id:"\ufe0f-linux-setup"},"\ud83e\uddd9\u200d\u2642\ufe0f Linux Setup"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/ObjectRetros/atomcms.git\ncd atomcms\ncp .env.example .env (Do not forget to edit the database credentials inside the .env)\ncomposer install\nnpm install && npm run build:atom (For development run: npm run dev:[theme-name] - eg. npm run dev:atom)\nphp artisan key:generate\nphp artisan migrate --seed\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Grant necessary permissions to used folders. Within your atomcms directory, enter the 4 commands below:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"sudo chown -R $USER:www-data storage\nsudo chown -R $USER:www-data bootstrap/cache\nchmod -R 775 storage\nchmod -R 775 bootstrap/cache\n")),(0,r.kt)("p",null,"For NGINX, you can copy the config a base configuration from here: ",(0,r.kt)("a",{parentName:"p",href:"https://laravel.com/docs/9.x/deployment#nginx"},"Deploy a site on nginx")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"If you are using Atom CMS in production, don't forget to change the following variables:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dotenv"},"APP_ENV=local to APP_ENV=production\nAPP_DEBUG=true to APP_DEBUG=false\n")),(0,r.kt)("h3",{id:"\ufe0f-using-https"},"\ud83d\udd12\ufe0f Using HTTPS"),(0,r.kt)("p",null,'In case you\'re using HTTPs through Cloudflares "Always redirect to HTTPs" feature, you should set ',(0,r.kt)("inlineCode",{parentName:"p"},"FORCE_HTTPS=")," within your ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," this it to make sure everything is properly using HTTPs. This is necessary for some features in Atom CMS to work properly when you're letting cloudflare handle the HTTPs redirects without a dedicated SSL certificate."),(0,r.kt)("h3",{id:"-disable-rocket-loader"},"\ud83d\udea8 Disable rocket loader"),(0,r.kt)("p",null,"Atom CMS uses Javascript in certain areas, which unfortunately conflicts with Cloudflares Rocket Loader feature. So in-case you have Rocket Loader enabled on Cloudflare, you will have to disable it, otherwise you ",(0,r.kt)("strong",{parentName:"p"},"will")," run into various annoying issues when using Atom CMS."),(0,r.kt)("p",null,'To disable or check if Rocket Loader is enabled on Cloudflare, all you have to do is, head to your Cloudflare dashboard and find "Speed" -> "Optimization" in the navigation menu, once you\'ve clicked on the "Optimization" menu point, scroll about halfway down until you find "Rocket Loader\u2122" and then un-toggle it in-case it\'s enabled. That\'s it! Rocket loader is now disabled, and you\'re all good to go.'))}d.isMDXComponent=!0}}]);